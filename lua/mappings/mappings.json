[
    {
        "title": "Tree view",
        "base_lhs": "<Leader>t",
        "filetype": "NvimTree",
        "commands": [
            {
                "title": "Search",
                "base_lhs": "s",
                "commands": [
                    {
                        "lhs": "s",
                        "rhs": "<cmd>lua require('nvim-tree.api').live_filter.start()<CR>",
                        "desc": "Search",
                        "filetype": "NvimTree"
                    },
                    {
                        "lhs": "c",
                        "rhs": "<cmd>lua require('nvim-tree.api').live_filter.clear()<CR>",
                        "desc": "Clear",
                        "filetype": "NvimTree"
                    }
                ]
            },
            {
                "title": "Files",
                "base_lhs": "f",
                "commands": [
                    {
                        "lhs": "n",
                        "rhs": "<cmd>lua require('nvim-tree.api').fs.create()<CR>",
                        "desc": "Create a new file",
                        "filetype": "NvimTree"
                    },
                    {
                        "lhs": "d",
                        "rhs": "<cmd>lua require('nvim-tree.api').fs.remove()<CR>",
                        "desc": "Delete a file",
                        "filetype": "NvimTree"
                    },
                    {
                        "lhs": "m",
                        "rhs": "<cmd>lua require('nvim-tree.api').fs.cut()<CR>",
                        "desc": "Move a file",
                        "filetype": "NvimTree"
                    },
                    {
                        "lhs": "r",
                        "rhs": "<cmd>lua require('nvim-tree.api').fs.rename()<CR>",
                        "desc": "Rename a file",
                        "filetype": "NvimTree"
                    }
                ]
            },
            {
                "title": "Directory",
                "base_lhs": "d",
                "commands": [
                    {
                        "lhs": "e",
                        "rhs": "<cmd>lua  require('nvim-tree.api').tree.expand_all()<CR>",
                        "desc": "Expand all",
                        "filetype": "NvimTree"
                    },
                    {
                        "lhs": "c",
                        "rhs": "<cmd>lua require('nvim-tree.api').tree.collapse_all()<CR>",
                        "desc": "Collapse all",
                        "filetype": "NvimTree"
                    }
                ]
            }
        ]
    },
    {
        "title": "Custom movement",
        "base_lhs": "<Leader>K",
        "commands": [
            {
                "lhs": "c",
                "rhs": "<cmd>lua require('config.custom_movement').toggle_custom_movement()<CR>",
                "desc": "Toogle custom movement"
            }
        ]
    },
    {
        "title": "Jump Commands",
        "base_lhs": "",
        "commands": [
            {
                "title": "Jump Commands",
                "base_lhs": "<Leader>j",
                "commands": [
                    {
                        "lhs": "s",
                        "rhs": "<cmd>lua require('config.jump_config').set_jump_input()<CR>",
                        "desc": "Set size (J/K)(Up/Down)"
                    }
                ]
            },
            {
                "lhs": "J",
                "rhs": "<cmd>lua require('config.jump_config').jump('j')<CR>",
                "desc": "Move down by jump size"
            },
            {
                "lhs": "K",
                "rhs": "<cmd>lua require('config.jump_config').jump('k')<CR>",
                "desc": "Move up by jump size"
            }
        ]
    },
    {
        "title": "Comments",
        "base_lhs": "<Leader>c",
        "filetype": "__codeFileType__",
        "commands": [
            {
                "title": "Todo",
                "base_lhs": "t",
                "filetype": "__codeFileType__",
                "commands": [
                    {
                        "lhs": "l",
                        "rhs": "<cmd>:TodoTelescope<CR>",
                        "desc": "list",
                        "filetype": "__codeFileType__"
                    }
                ]
            },
            {
                "title": "Comments",
                "base_lhs": "c",
                "filetype": "__codeFileType__",
                "commands": [
                    {
                        "lhs": "l",
                        "rhs": "<cmd>lua require('Comment.api').toggle.linewise.current()<CR>",
                        "desc": "Comment/uncomment the current line",
                        "filetype": "__codeFileType__"
                    },
                    {
                        "lhs": "v",
                        "rhs": "<cmd>lua require('Comment.api').toggle.linewise(vim.fn.visualmode())<CR>",
                        "desc": "Comment/uncomment the selected lines",
                        "filetype": "__codeFileType__"
                    }
                ]
            }
        ]
    },
    {
        "title": "Session Management",
        "base_lhs": "<Leader>s",
        "commands": [
            {
                "lhs": "s",
                "rhs": "<cmd>lua require('config.sessions').save_session()<CR>",
                "desc": "Save session with a name"
            },
            {
                "lhs": "l",
                "rhs": "<cmd>:Telescope persisted<CR>",
                "desc": "Load sessions"
            },
            {
                "lhs": "o",
                "rhs": "<cmd>lua require('config.sessions').overwrite_current_session()<CR>",
                "desc": "Overwrite the current session"
            },
            {
                "lhs": "d",
                "rhs": "<cmd>lua require('config.sessions').list_and_delete_sessions()<CR>",
                "desc": "Delete a session"
            }
        ]
    },
    {
        "title": "Quick Quit Commands",
        "base_lhs": "<Leader>q",
        "commands": [
            {
                "lhs": "q",
                "rhs": "<cmd>q!<CR>",
                "desc": "Force quit current window"
            },
            {
                "lhs": "c",
                "rhs": "<cmd>qa<CR>",
                "desc": "Close nvim"
            },
            {
                "lhs": "a",
                "rhs": "<cmd>qa!<CR>",
                "desc": "Force quit all windows"
            },
            {
                "lhs": "m",
                "rhs": "<cmd>stop<CR>",
                "desc": "Minimize Neovim"
            },
            {
                "title": "Write",
                "base_lhs": "w",
                "commands": [
                    {
                        "lhs": "w",
                        "rhs": "<cmd>w!<CR>",
                        "desc": "Force quit all windows"
                    },
                    {
                        "lhs": "q",
                        "rhs": "<cmd>wq!<CR>",
                        "desc": "Force quit all windows"
                    }
                ]
            }
        ]
    },
    {
        "title": "Lazy",
        "base_lhs": "<leader>z",
        "commands": [
            {
                "lhs": "s",
                "rhs": "<cmd>Lazy sync<CR>",
                "desc": "Sync"
            },
            {
                "lhs": "u",
                "rhs": "<cmd>Lazy update<CR>",
                "desc": "Update"
            }
        ]
    },
    {
        "title": "Git version",
        "base_lhs": "<leader>v",
        "commands": [
            {
                "lhs": "b",
                "rhs": "<cmd>:Fugit2Blame<CR>",
                "desc": "Toogle blamme"
            },
            {
                "lhs": "e",
                "rhs": "<cmd>:Fugit2<CR>",
                "desc": "Engine"
            },
            {
                "title": "History",
                "base_lhs": "h",
                "filetype": "__codeFileType__",
                "commands": [
                    {
                        "title": "File history",
                        "base_lhs": "f",
                        "commands": [
                            {
                                "lhs": "s",
                                "rhs": "<cmd>lua require('telescope').extensions.git_file_history.git_file_history()<CR>",
                                "desc": "Show"
                            },
                            {
                                "lhs": "d",
                                "rhs": "<cmd>lua require('telescope.actions').select_default()<CR>",
                                "desc": "Open current file at commit in current buffer",
                                "userEvent": "TelescopePreviewerLoaded"
                            },
                            {
                                "lhs": "v",
                                "rhs": "<cmd>lua require('telescope.actions').select_vertical()<CR>",
                                "desc": "Open current file at commit in vertical split",
                                "userEvent": "TelescopePreviewerLoaded"
                            },
                            {
                                "lhs": "h",
                                "rhs": "<cmd>lua require('telescope.actions').select_horizontal()<CR>",
                                "desc": "Open current file at commit in horizontal split",
                                "userEvent": "TelescopePreviewerLoaded"
                            },
                            {
                                "lhs": "t",
                                "rhs": "<cmd>lua require('telescope.actions').select_tab()<CR>",
                                "desc": "Open current file at commit in new tab",
                                "userEvent": "TelescopePreviewerLoaded"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "title": "UFO Folding",
        "base_lhs": "<leader>u",
        "filetype": "__codeFileType__",
        "commands": [
            {
                "lhs": "o",
                "rhs": "<cmd>lua require('ufo').goPreviousStartFold:()<CR>",
                "desc": "Open all folds",
                "filetype": "__codeFileType__"
            },
            {
                "lhs": "c",
                "rhs": "<cmd>lua require('ufo').closeAllFolds()<CR>",
                "desc": "Close all folds",
                "filetype": "__codeFileType__"
            },
            {
                "lhs": "j",
                "rhs": "<cmd>lua require('ufo').openFoldsExceptKinds()<CR>",
                "desc": "Reduce fold level",
                "filetype": "__codeFileType__"
            },
            {
                "lhs": "k",
                "rhs": "<cmd>lua require('ufo').closeFoldsWith()<CR>",
                "desc": "Increase fold level",
                "filetype": "__codeFileType__"
            },
            {
                "lhs": "p",
                "rhs": "<cmd>lua require('ufo').peekFoldedLinesUnderCursor()<CR>",
                "desc": "Preview folded code",
                "filetype": "__codeFileType__"
            }
        ]
    },
    {
        "title": "Bookmarks Mappings",
        "base_lhs": "",
        "filetype": "__codeFileType__",
        "commands": [
            {
                "lhs": "<C-;>",
                "rhs": "<cmd>lua require('config.bookmarks').next_global_bookmark()<CR>",
                "desc": "Jump to next global bookmark",
                "filetype": "__codeFileType__"
            },
            {
                "lhs": "<C-g>",
                "rhs": "<cmd>lua require('config.bookmarks').prev_global_bookmark()<CR>",
                "desc": "Jump to previous global bookmark",
                "filetype": "__codeFileType__"
            },
            {
                "title": "Bookmarks Mappings",
                "base_lhs": "<leader>b",
                "commands": [
                    {
                        "lhs": "t",
                        "rhs": "<cmd>lua require('bookmarks').bookmark_toggle()<CR>",
                        "desc": "Toggle bookmarks",
                        "filetype": "__codeFileType__"
                    },
                    {
                        "lhs": "a",
                        "rhs": "<cmd>lua require('bookmarks').bookmark_ann()<CR>",
                        "desc": "Add a bookmark",
                        "filetype": "__codeFileType__"
                    },
                    {
                        "lhs": "n",
                        "rhs": "<cmd>lua require('config.bookmarks').next_global_bookmark()<CR>",
                        "desc": "Jump next",
                        "filetype": "__codeFileType__"
                    },
                    {
                        "lhs": "p",
                        "rhs": "<cmd>lua require('config.bookmarks').prev_global_bookmark()<CR>",
                        "desc": "Jump prev",
                        "filetype": "__codeFileType__"
                    },
                    {
                        "lhs": "C",
                        "rhs": "<cmd>lua require('bookmarks').bookmark_clear_all()<CR>|<cmd>lua require('bookmarks').bookmark_clean()<CR>",
                        "desc": "Clear all",
                        "filetype": "__codeFileType__"
                    },
                    {
                        "lhs": "s",
                        "rhs": "<cmd>lua require('telescope').extensions.bookmarks.list()<CR>",
                        "desc": "Show marked files in quickfix window",
                        "filetype": "__codeFileType__"
                    }
                ]
            }
        ]
    },
    {
        "title": "NvimTree Mappings",
        "buffer_specific": true,
        "base_lhs": "",
        "commands": [
            {
                "lhs": "<CR>",
                "rhs": "<cmd>lua require('nvim-tree.api').node.open.edit()<CR>",
                "desc": "Abrir nodo"
            },
            {
                "lhs": "<C-e>",
                "rhs": "<cmd>lua require('nvim-tree.api').node.navigate.parent_close()<CR>",
                "desc": "Colapsar carpeta del archivo"
            }
        ]
    },
    {
        "title": "Panels Commands",
        "base_lhs": "<Leader>p",
        "commands": [
            {
                "title": "Terminal Commands",
                "base_lhs": "t",
                "commands": [
                    {
                        "lhs": "t",
                        "rhs": "<cmd>lua require('config.terminal').toggle()<CR>",
                        "desc": "Toggle"
                    },
                    {
                        "lhs": "n",
                        "rhs": "<cmd>lua require('config.terminal').new_terminal()<CR>",
                        "desc": "New"
                    }
                ]
            },
            {
                "title": "Panel",
                "base_lhs": "p",
                "commands": [
                    {
                        "title": "Split",
                        "base_lhs": "s",
                        "commands": [
                            {
                                "lhs": "v",
                                "rhs": "<cmd>vsplit | edit %<CR>",
                                "desc": "Split window vertically"
                            },
                            {
                                "lhs": "h",
                                "rhs": "<cmd>split | edit %<CR>",
                                "desc": "Split window horizontally"
                            }
                        ]
                    }
                ]
            },
            {
                "lhs": "c",
                "rhs": "<cmd>lua require('config.telescope_buffers').close_buffer()<CR>",
                "desc": "Close panel"
            },
            {
                "lhs": "l",
                "rhs": "<cmd>lua require('config.telescope_buffers').open_buffer()<CR>",
                "desc": "Navigate each panel"
            },
            {
                "lhs": "s",
                "rhs": "<cmd>NvimTreeToggle<CR>",
                "desc": "Toggle Tree View"
            }
        ]
    },
    {
        "title": "Find commands",
        "base_lhs": "<Leader>f",
        "commands": [
            {
                "lhs": "f",
                "rhs": "<cmd>Telescope find_files<CR>",
                "desc": "Find a file"
            },
            {
                "lhs": "g",
                "rhs": "<cmd>Telescope live_grep<CR>",
                "desc": "Search text in all files"
            },
            {
                "lhs": "l",
                "rhs": "<cmd>Telescope current_buffer_fuzzy_find<CR>",
                "desc": "Search text in local files"
            },
            {
                "title": "Find Code",
                "base_lhs": "c",
                "commands": [
                    {
                        "lhs": "f",
                        "rhs": "<cmd>Telescope lsp_document_symbols<CR>",
                        "desc": "List and navigate function definitions"
                    }
                ]
            },
            {
                "title": "Find commands",
                "base_lhs": "r",
                "commands": [
                    {
                        "lhs": "f",
                        "rhs": "<cmd>lua vim.lsp.buf.references()<CR>",
                        "desc": "Find references"
                    },
                    {
                        "lhs": "n",
                        "rhs": "<cmd>lua require('illuminate').goto_next_reference(false)<CR>",
                        "desc": "Next reference"
                    },
                    {
                        "lhs": "p",
                        "rhs": "<cmd>lua require('illuminate').goto_prev_reference(false)<CR>",
                        "desc": "Previous reference"
                    },
                    {
                        "title": "Symbols",
                        "base_lhs": "s",
                        "commands": [
                            {
                                "lhs": "f",
                                "rhs": "<cmd>lua require('telescope.builtin').lsp_document_symbols({ symbols = { 'function' } })<CR>",
                                "desc": "Find FUNCTIONS"
                            },
                            {
                                "lhs": "s",
                                "rhs": "<cmd>lua require('telescope.builtin').lsp_document_symbols({ symbols = { 'struct' } })<CR>",
                                "desc": "Find STRUCTS"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "title": "Window navigation",
        "commands": [
            {
                "lhs": "<C-h>",
                "rhs": "<C-w>h",
                "desc": "Move to the left panel"
            },
            {
                "lhs": "<C-l>",
                "rhs": "<C-w>l",
                "desc": "Move to the right panel"
            },
            {
                "lhs": "<C-j>",
                "rhs": "<C-w>j",
                "desc": "Move to the panel below"
            },
            {
                "lhs": "<C-k>",
                "rhs": "<C-w>k",
                "desc": "Move to the panel above"
            }
        ]
    },
    {
        "title": "Debugger commands",
        "base_lhs": "<Leader>d",
        "filetype": "__codeFileType__",
        "commands": [
            {
                "lhs": "l",
                "rhs": "<cmd>lua require'dap'.step_into()<CR>",
                "desc": "Debugger step into",
                "filetype": "__codeFileType__"
            },
            {
                "lhs": "j",
                "rhs": "<cmd>lua require'dap'.step_over()<CR>",
                "desc": "Debugger step over",
                "filetype": "__codeFileType__"
            },
            {
                "lhs": "k",
                "rhs": "<cmd>lua require'dap'.step_out()<CR>",
                "desc": "Debugger step out",
                "filetype": "__codeFileType__"
            },
            {
                "lhs": "c",
                "rhs": "<cmd>lua require'dap'.continue()<CR>",
                "desc": "Debugger continue",
                "filetype": "__codeFileType__"
            },
            {
                "lhs": "b",
                "rhs": "<cmd>lua require'dap'.toggle_breakpoint()<CR>",
                "desc": "Debugger toggle breakpoint",
                "filetype": "__codeFileType__"
            },
            {
                "lhs": "d",
                "rhs": "<cmd>lua require'dap'.set_breakpoint(vim.fn.input('Breakpoint condition: '))<CR>",
                "desc": "Debugger set conditional breakpoint",
                "filetype": "__codeFileType__"
            },
            {
                "lhs": "e",
                "rhs": "<cmd>lua require'dap'.terminate()<CR>",
                "desc": "Debugger reset",
                "filetype": "__codeFileType__"
            },
            {
                "lhs": "r",
                "rhs": "<cmd>lua require'dap'.run_last()<CR>",
                "desc": "Debugger run last",
                "filetype": "__codeFileType__"
            }
        ]
    },
    {
        "title": "LSP commands",
        "base_lhs": "<Leader>g",
        "filetype": "rust",
        "commands": [
            {
                "lhs": "d",
                "rhs": "<cmd>lua vim.lsp.buf.definition()<CR>",
                "desc": "Go to definition",
                "filetype": "rust"
            },
            {
                "lhs": "i",
                "rhs": "<cmd>lua vim.lsp.buf.implementation()<CR>",
                "desc": "Go to implementation",
                "filetype": "rust"
            },
            {
                "lhs": "t",
                "rhs": "<cmd>lua vim.lsp.buf.type_definition()<CR>",
                "desc": "Go to type definition",
                "filetype": "rust"
            }
        ]
    },
    {
        "title": "Refactor commands",
        "base_lhs": "<Leader>r",
        "filetype": "rust",
        "commands": [
            {
                "lhs": "n",
                "rhs": "<cmd>vim.lsp.buf.rename()<CR>",
                "desc": "LSP Rename",
                "filetype": "rust"
            },
            {
                "lhs": "a",
                "rhs": "<cmd>vim.lsp.buf.code_action()<CR>",
                "desc": "Code actions",
                "filetype": "rust"
            },
            {
                "lhs": "g",
                "rhs": "<cmd>vim.lsp.buf.code_action_group()<CR>",
                "desc": "Code action group",
                "filetype": "rust"
            }
        ]
    }
]